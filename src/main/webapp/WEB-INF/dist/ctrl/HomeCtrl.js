angular.module("myApp").controller("HomeCtrl",["$rootScope","$scope","$location","$mdToast","$http","$mdDialog","MenuService",function(e,o,t,r,c,i,n){myApp.navNames["/home"]="AutoCode 代码生成",o.demoProjects=[{id:2,idCode:"ypOpJMTY=",name:"Bootstrap By Angular",recommend:5,lastUpdate:!0,remark:"BootStrap By Angular",style:{color:"#FFF","background-color":"#0288d1"}},{id:4,idCode:"ywRtwMjQ=",name:"ExtJS_6",recommend:4,remark:"ExtJS 6 示例",style:{color:"#FFF","background-color":"#106cc1",background:"-webkit-linear-gradient(top, #106cc1, #4490d6)"}},{id:3,idCode:"yhWqrMjA=",name:"ExtJS_3",recommend:3,remark:"ExtJS 3 示例",style:{"background-color":"#dfe8f6"}},{id:1,idCode:"yinUhMTI=",name:"Material Design",recommend:2,remark:"Material By Angular",style:{color:"#FFF","background-color":"#106cc1"}},{name:"Bootstrap By Jquery",remark:"敬请期待",style:{color:"#FFF","background-color":"#0099cc"}}],o.range=function(e){for(var o=[],t=0;e>t;t++)o.push(t);return o},o.newProject=function(){t.path("/project_edit").search({})},o.openProject=function(e){t.path("/project").search({id:e})},o.editProject=function(e){t.path("/project_edit").search({id:e})},o.previewProjectCode=function(e){t.path("/project_code").search({id:e})},o.previewProject=function(e){window.open(ctx+"/preview?id="+e)},o.downloadProject=function(e){window.open(ctx+"/dowload?id="+e)},o.deleteProject=function(e){var t=i.confirm().title("确认").textContent("确认删除项目: "+e.name+" ?").ariaLabel("确认").ok("确认").cancel("取消");i.show(t).then(function(){o.promise=c.post(ctx+"/basic/project/delete",{id:e.idCode}).success(function(e){"success"==e.result?(o.$root.$broadcast("notify",{type:"success",title:"提示",info:"删除成功",timeOut:2e3}),o.getProjectList(),n.reLoad()):o.$root.$broadcast("notify",{type:"error",title:"错误",info:e.info,timeOut:2e3})})})},o.getProjectList=function(){o.promise=c.post(ctx+"/basic/project/search",{extLimit:{sort:"id",dir:"DESC",start:0,limit:50}}).success(function(e){o.projectList=e.invdata})},o.getProjectList(),"test@qq.com"==e.userEmail&&r.show(r.simple().textContent("测试帐号将在2016-11-01正式停用，请提前注册为正式用户，谢谢!").position("top left").hideDelay(5e3))}]);