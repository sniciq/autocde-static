angular.module("myApp").controller("MainCtrl",["$rootScope","$mdTheming","$scope","$cookies","$http","$location","toaster","$mdDialog","$mdSidenav","$mdMedia","$timeout",function(e,t,n,o,a,c,i,l,r,u,s){e.userEmail=userEmail,e.customFullscreen=u("xs")||u("sm");var f=myApp.getCookie("leftNavLock");"false"===f?n.leftNavLock=!1:n.leftNavLock=!0,n.themes=["default","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","grey","blue-grey"],n.changeTheme=function(e){o.put("utheme",e,{expires:new Date((new Date).getTime()+2592e6)}),window.location.href=ctx+"/"},n.getNavName=function(){var e=c.path();return myApp.navNames[e]?myApp.navNames[e]:void 0},n.isNavActive=function(e){return 0==c.path().indexOf(e)},n.toHome=function(){c.path("/home").search({})},n.mailToMe=function(){var e="mailto:autocoding@163.com?subject=AC系统反馈&body=谢谢您的意见";window.location.href=e},n.showUpgradeLog=function(){l.show({templateUrl:"templates/upgradeLog.html?v="+sysVersion,fullscreen:!0,controller:["$scope","$mdDialog",function(e,t){e.cancel=function(){t.cancel()}}]})},n.reward=function(){l.show({templateUrl:"templates/reward.html?v="+sysVersion,fullscreen:!0,controller:["$scope","$mdDialog",function(e,t){e.images=[ctx+"/resources/images/qrcode_alipay.png",ctx+"/resources/images/qrcode_weixin.png"],e.cancel=function(){t.cancel()}}]})},n.toChangePswd=function(){c.path("/changePwd").search({})},n.logout=function(e){var t=l.confirm().title("确认").textContent("确认退出系统?").targetEvent(e).ok("确认").cancel("取消");l.show(t).then(function(){window.location.href=ctx+"/sys/logout"},function(){})},n.navLeftLocked=function(){return r("navLeft").isLockedOpen()},n.toggleNavLeft=function(){r("navLeft").toggle().then(function(){})},n.toggleNavLeftLock=function(e){n.leftNavLock?(n.leftNavLock=!n.leftNavLock,o.put("leftNavLock",n.leftNavLock),r("navLeft").close().then(function(){})):r("navLeft").toggle().then(function(){n.leftNavLock=!n.leftNavLock,o.put("leftNavLock",n.leftNavLock)})},n.$on("notify",function(e,t){i.pop(t.type,t.title,t.info,t.timeOut)}),e.$on("$routeChangeStart",function(t,n,o){e.isRouteLoading=!0}),e.$on("$routeChangeSuccess",function(){s(function(){e.isRouteLoading=!1},50)})}]),angular.module("myApp").controller("LeftNavCtrl",["$rootScope","$scope","$http","$location","toaster","$timeout","$mdDialog","$mdSidenav","MenuService",function(e,t,n,o,a,c,i,l,r){t.menu=r,t.close=function(){l("navLeft").close()},t.isNavSelected=function(e){return-1!==o.path().indexOf(e,o.path().length-e.length)},this.menuClick=function(t){l("navLeft").isLockedOpen()?(t.params||(t.params={}),o.path(t.path).search(t.params)):(e.isRouteLoading=!0,l("navLeft").close().then(function(){e.isRouteLoading=!1,t.params||(t.params={}),o.path(t.path).search(t.params)}))},this.isOpen=function(e){return r.isMenuSelected(e)},this.toggleOpen=function(e){r.toggleSelectMenu(e)},this.isSelected=function(e){return r.isSelected(e)},e.$on("$locationChangeSuccess",function(){})}]);