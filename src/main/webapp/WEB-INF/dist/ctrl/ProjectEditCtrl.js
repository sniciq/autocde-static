angular.module("myApp").controller("ProjectEditCtrl",["$rootScope","$scope","$location","$routeParams","$http","$mdDialog","MenuService",function(e,t,o,c,s,a,r){t.looklikes=[{id:4,name:"ExtJS 6",thum:ctx+"/resources/images/extjs6_thum.png",large:ctx+"/resources/images/extjs6_large.png"},{id:3,name:"material",thum:ctx+"/resources/images/material_thum.png",large:ctx+"/resources/images/material_large.png"},{id:2,name:"bootstrap",thum:ctx+"/resources/images/bootstrap_thum2.png",large:ctx+"/resources/images/bootstrap_large_2.png"},{id:1,name:"ExtJS 3",thum:ctx+"/resources/images/extjs_thum.png",large:ctx+"/resources/images/extjs_large.png"}],t.getLooklikeStyle=function(e){return t.project&&e.id==t.project.lookLike?{"background-color":"rgb(234, 229, 44)"}:void 0},t.showLargeImg=function(e){var t=e.large;a.show({template:'<md-dialog><md-toolbar><div class="md-toolbar-tools"><h2>样式查看</h2><span flex></span><md-button class="md-icon-button" ng-click="cancel()"><i class="material-icons">close</i></md-button></div></md-toolbar><md-dialog-content><img width="100%" height="100%" src="'+t+'"></md-dialog-content></md-dialog>',fullscreen:!0,clickOutsideToClose:!0,controller:["$scope","$mdDialog",function(e,t){e.cancel=function(){t.cancel()}}]})},t.save=function(){t.promise=s.post(ctx+"/basic/project/save",t.project).success(function(e){"success"==e.result?(t.$root.$broadcast("notify",{type:"success",title:"提示",info:"保存成功",timeOut:2e3}),o.path("/home").search({}),r.reLoad()):t.$root.$broadcast("notify",{type:"error",title:"错误",info:e.info,timeOut:2e3})})},t.cancel=function(){o.path("/home").search({})},c.id?(myApp.navNames["/project_edit"]="修改项目",t.promise=s.post(ctx+"/basic/project/getInfo",{id:c.id}).success(function(e){t.project=e.data})):t.project={lookLike:2,baseAuth:1}}]);