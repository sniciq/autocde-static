var myApp=angular.module("myApp",["ngCookies","ngRoute","ngSanitize","ngAnimate","ngMessages","cgBusy","toaster","ui.tinymce","ac.util.commonfilter","ui.ace","ngMaterial","ac.util.Pagination","ac.util.mdToggleMenu","ac.util.AcTable","oc.lazyLoad"]);myApp.getCookie=function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},myApp.config(["$mdThemingProvider",function(e){var t=myApp.getCookie("utheme");if(t&&"default"!=t)e.theme("default").primaryPalette(t);else{e.definePalette("amazingAccentPaletteName",acThemeAccentPalette);var n=e.extendPalette("red",{500:"106CC1"});e.definePalette("myMap",n),e.theme("default").primaryPalette("myMap").accentPalette("amazingAccentPaletteName")}e.theme("altTheme").primaryPalette("grey").dark()}]),myApp.factory("timeoutInterceptor",["$location",function(e){var t={request:function(e){return e.headers["Request-By"]="AgHttp",e},response:function(e){return e.data&&1==e.data.success?"timeout"==e.data.result?(window.location.href=ctx+"/sessionout",e):"noAuth"==e.data.result?(window.location.href=ctx+"/noauth",e):e:e},responseError:function(e){return 401===e.status&&location.reload(),$q.reject(e)}};return t}]),myApp.config(["$httpProvider",function(e){e.interceptors.push("timeoutInterceptor")}]),myApp.navNames={"/home":"首页"},myApp.factory("formDataObject",function(){return function(e){var t=new FormData;return angular.forEach(e,function(e,n){t.append(n,e)}),t}}),myApp.directive("datepickerLocaldate",["$parse",function(e){function t(e,t,n,r){var a=r[0];a.$parsers.push(function(e){return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().substring(0,10)}),a.$formatters.push(function(e){if(e){var t=new Date(e);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t}})}var n={restrict:"A",require:["ngModel"],link:t};return n}]),myApp.directive("fileread",[function(){return{scope:{fileread:"="},link:function(e,t,n){t.bind("change",function(t){e.$apply(function(){e.fileread=t.target.files[0]})})}}}]),myApp.directive("autoFocus",["$timeout",function(e){return{restrict:"AC",link:function(t,n,r){e(function(){n[0].focus()},800)}}}]),myApp.getRouteAttrByPath=function(e){for(var t=0;t<routeList.length;t++)if(routeList[t].path==e)return routeList[t];return null},myApp.config(["$routeProvider",function(e,t){e.otherwise({redirectTo:"/home"});for(var n=0;n<routeList.length;n++){var r=routeList[n];myApp.navNames[r.path]=r.name,e.when(r.path,{templateUrl:r.templateUrl,controller:r.ctrl,resolve:{loadMyFiles:["$ocLazyLoad","$route",function(e,t){var n=t.current.$$route.originalPath,r=myApp.getRouteAttrByPath(n);return r&&r.files?e.load({name:r.ctrl,files:r.files}):void 0}]}})}}]);