angular.module("ac.util.AcTable",[]).filter("isEmpty",[function(){return function(e){return angular.equals({},e)}}]).filter("keyCountInObject",[function(){return function(e){return Object.keys(e).length}}]).directive("acTable",function(){return{restrict:"E",require:"acTable",scope:{},controller:function(){var e=[];this.addColumn=function(t){e.push(t)},this.getColumns=function(){return e}},link:function(e,t,l,c){}}}).directive("acTableColumn",function(){return{restrict:"E",require:"^acTable",link:function(e,t,l,c){c.addColumn({header:l.header,field:l.field,style:l.style,sortable:l.sortable})}}}).run(["$templateCache",function(e){var t='    	<div class="actable">			<div class="row header grey">				<div ng-show="selectable" class="cell checkbox"></div>				<div ng-repeat="col in cols" class="cell" ng-class="{\'sort\': col.sortable}" ng-click="toggleSort(col.sortable,col.field)" style="{{col.style}}">					<span>{{col.header}}</span><i ng-if="col.sortable==\'true\'" class="material-icons sort-toggle-icon" ng-class="getSortDir(col.sortable,col.field)">arrow_downward</i>				</div>			</div>			<div class="row" ng-repeat="item in items.invdata" ng-click="toggleSelectItems(item,$event)">				<div ng-show="selectable" class="cell checkbox">					<md-checkbox ng-checked="isItemSelected(item)" ng-click="toggleSelectItems(item, $event)" aria-label="Checkbox"></md-checkbox>				</div>				<div ng-repeat="col in cols" class="cell" style="{{col.style}}">{{item[col.field]}}</div>			</div>		</div>		';e.put("ac-table-directives",t)}]).directive("acTableGrid",["$compile","$templateCache",function(e,t){return{restrict:"E",transclude:!0,require:"^acTable",scope:{items:"=",selectable:"=",multiple:"=",selectedItems:"=",idField:"@",paging:"=",onSortChange:"&"},template:t.get("ac-table-directives"),link:function(l,c,i,n){l.cols=n.getColumns(),l.$watch("items",function(){var i=t.get("ac-table-directives");c.html(i),e(c.contents())(l)}),l.colCanSort=function(e){return e},l.getSortDir=function(e,t){return"true"!=e?"none":l.paging&&l.paging.sort==t?l.paging.dir:"none"},l.toggleSort=function(e,t){"true"==e&&(l.paging.sort=t,"asc"==l.paging.dir?l.paging.dir="desc":l.paging.dir="asc",l.onSortChange())},l.isItemSelected=function(e){return l.selectable?!!l.selectedItems[e[l.idField]]:!1},l.toggleSelectItems=function(e,t){l.selectable&&(l.selectedItems[e[l.idField]]?delete l.selectedItems[e[l.idField]]:l.multiple?l.selectedItems[e[l.idField]]=e:(l.selectedItems={},l.selectedItems[e[l.idField]]=e),t.stopPropagation())}}}}]);