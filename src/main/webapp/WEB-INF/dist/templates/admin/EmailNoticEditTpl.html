<md-dialog aria-label="编辑用户"><md-toolbar><div class="md-toolbar-tools"><h2>发布邮件公告</h2><span flex></span><md-button class="md-icon-button" ng-click="cancel()"><i class="material-icons">close</i></md-button></div></md-toolbar><md-dialog-content layout-padding style="min-width:800px"><div cg-busy="{promise:promise,templateUrl:'',message:'正在提交...',backdrop:true,delay:0,minDuration:0}"><form class="form-horizontal" role="form" novalidate name="myForm" ng-show="!showRcvSelector" class="common-show-hide"><div layout layout-wrap><label>收件人 ：</label><div layout layout-wrap flex><div ng-cloak ng-repeat="rcv in inputForm.rcvList" layout layout-align="center center" style="padding:5px"><div class="md-whiteframe-1dp" layout layout-align="center center"><span style="margin-left:5px">{{rcv.name}}</span> &lt;<span>{{rcv.email}}</span>&gt;<md-button ng-if="noticMailStatus==0" style="width:32px;height:24px" class="md-icon-button md-primary" ng-click="removeRcv(rcv.userId)"><i class="material-icons">delete</i></md-button></div></div><md-button class="md-primary md-raised" ng-show="noticMailStatus==0" ng-click="showCustomerSelector();">选择收件人</md-button><md-button class="md-primary md-raised" ng-show="noticMailStatus==0" ng-click="clearRcvs();">清空</md-button></div></div><md-input-container class="md-block"><label>标题</label><input type="text" required ng-maxlength="50" ng-model="inputForm.title"></md-input-container><label>内容</label><textarea rows="20" ui-tinymce="tinymceOptions" name="content" ng-model="inputForm.content" ng-change="updateHtml()" required>
		</textarea></form><div ng-show="showRcvSelector" class="common-show-hide"><div layout-padding layout-wrap><div class="md-table_tr" layout="row"><div layout-padding flex="10"><input type="checkbox" ng-model="allSelect" ng-click="toggleSelectAll()"></div><div layout-padding flex="10">ID</div><div layout-padding flex="30">名称</div><div layout-padding flex="50">邮箱</div></div><div class="md-table_tr" layout="row" layout-padding layout-wrap ng-repeat="item in rcvDataList.invdata"><div flex="10"><input type="checkbox" ng-model="item.checked" ng-click="$event.stopPropagation();toggleSelectUser(item);"></div><div flex="10">{{item.id}}</div><div flex="30">{{item.name}}</div><div flex="50">{{item.email}}</div></div></div><pagination total-items="rcvDataList.total" items-per-page="rcvPagination.limit" ng-model="rcvPagination.currentPage" max-size="rcvPagination.maxSize" num-pages="rcvPagination.allPages" ng-change="rcvPageChanged()"></pagination></div></div></md-dialog-content><md-dialog-actions layout layout-align="end center"><md-button ng-show="!showRcvSelector" class="md-raised md-primary" ng-if="noticMailStatus==0" ng-click="save()" ng-disabled="myForm.$invalid">保存</md-button><md-button ng-show="!showRcvSelector" class="md-raised md-default" ng-click="cancel()">取消</md-button><md-button ng-show="showRcvSelector" class="md-raised md-primary" ng-click="selectRcvOK()">确认</md-button><md-button ng-show="showRcvSelector" class="md-raised md-default" ng-click="selectRcvCancel()">取消</md-button></md-dialog-actions></md-dialog>